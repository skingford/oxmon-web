## 1. 基线与范围确认

- [x] 1.1 盘点本次重构涉及的路由、页面文件与 feature 模块清单（dashboard/metrics/domains/agents/alerts/settings）
- [x] 1.2 为每个能力域整理接口契约字段清单，并补齐或修正 `src/lib/types.ts` 中的域类型定义
- [x] 1.3 明确旧页面删除范围与保留边界，形成“可删文件清单”用于后续分批替换

## 2. 架构骨架重建

- [x] 2.1 重构 `src/app/[locale]` 与 `src/app/[locale]/(dashboard)` 下目标页面入口为“路由容器层”（仅保留参数解析、上下文注入、模块装配）
- [x] 2.2 在 `src/components/features` 建立按能力域组织的新模块骨架，并统一命名与导出规范
- [x] 2.3 为各能力域实现 DTO -> ViewModel 的显式转换层，禁止 UI 直接消费原始接口响应

## 3. 能力域替换（第一批）

- [x] 3.1 删除并重建 `domains` 相关旧页面/模块，接入新 feature 实现并保持原业务路由可访问
- [x] 3.2 删除并重建 `agents` 相关旧页面/模块，接入新 feature 实现并保持原业务路由可访问
- [x] 3.3 完成第一批域级联调：验证接口映射、核心列表/详情流程与路由可达性

## 4. 能力域替换（第二批）

- [x] 4.1 删除并重建 `metrics` 相关旧页面/模块，接入新 feature 实现并保持原业务路由可访问
- [x] 4.2 删除并重建 `alerts` 与 `settings` 相关旧页面/模块，接入新 feature 实现并保持原业务路由可访问
- [x] 4.3 重建 dashboard 聚合页面装配逻辑，确保由新模块提供能力聚合

## 5. 统一异步状态体验

- [x] 5.1 为全部重构页面统一实现 loading/error/empty/success 四类状态视图
- [x] 5.2 为 error 状态统一提供恢复动作（至少包含重试或刷新），并验证恢复后状态切换正确
- [x] 5.3 为 empty 状态补齐说明与下一步引导动作，避免无反馈停留

## 6. 收尾与验证

- [x] 6.1 清理被替换的演示型页面与失效模块引用，确保无死链与无效导出
- [x] 6.2 更新受影响的 i18n 文案与路由级 metadata，确保页面标题与描述正确
- [x] 6.3 执行 `npm run build -- --webpack` 并修复本次改造引入的构建问题
- [ ] 6.4 在 `npm run dev` 下完成受影响路由的手动 smoke-check 并记录验证结论
